name: organize # at least one the info fields is required to be able to override it the Cargo.toml values
settings:
  - SubcommandRequiredElseHelp
  - StrictUtf8
subcommands:
  - run:
      about: Run with the default configuration
      args:
        - config: &config # as an arg
            long: config
            help: Provide a different configuration file
            takes_value: true
            value_name: file

  - config: # as a subcommand
      about: Edit configuration
      args:
        # all three of these sub-arguments conflict with each other
        - show_path:
            long: show-path
            help: Shows the default configuration path
            conflicts_with: new
        - new:
            long: new
            conflicts_with: show_defaults
            help: create a new config file in the current directory
        - show_defaults:
            long: show-defaults
            conflicts_with: show_path
  - suggest:
      about: Show improved workflow suggestions (must be enabled in config; experimental feature)
  - watch:
      about: Watch for changes and apply rules
      args:
        - config: *config
        - daemon:
            long: daemon
            display_order: 1
            takes_value: false
            help: Start watching as a background process
        - replace:
            requires: daemon
            long: replace
            help: Restarts the running daemon
  - logs:
      about: Show logs
      args:
        - clear:
            long: clear
            help: Clear log file
            takes_value: false
  - stop:
      about: Stop watching