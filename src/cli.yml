name: organize # at least one the info fields is required to be able to override it the Cargo.toml values
settings:
  - SubcommandRequiredElseHelp
  - StrictUtf8
subcommands:
  - run:
      about: Run with the default configuration
      args:
        - config: &config # as an arg
            long: config
            help: Provide a different configuration file
            takes_value: true
            value_name: file

  - config: # as a subcommand
      about: Edit configuration
      args:
        # all three of these sub-arguments conflict with each other
        - show_path:
            long: show-path
            help: Shows the default configuration path
            exclusive: true
        - new:
            long: new
            help: create a new config file in the current directory
            exclusive: true
        - show_defaults:
            long: show-defaults
            exclusive: true
  - watch:
      about: Watch for changes and apply rules
      args:
        - config: *config
        - replace:
            long: replace
            help: Replace the current instance
  - logs:
      about: Show logs
      args:
        - clear:
            long: clear
            help: Clear log file
            takes_value: false
  - stop:
      about: Stop watching
      args:
        - all:
            long: all
            short: a
            help: Stop all running instances